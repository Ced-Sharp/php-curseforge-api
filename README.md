# Aternos/php-curseforge-api
An API client for the CurseForge API written in PHP. This client is a combination of code
generated by OpenAPI Generator and some wrappers around it to improve the usability.

The generated code can be found in `lib/Api` and `lib/Model`. It is recommended to use the
Wrappers in `lib/Client` instead of the generated code.

## Installation
Install the package via composer:
```bash
composer require aternos/curseforge-api
```

## Usage

The main entry point for the API is the `CurseForgeAPIClient` class.
```php
<?php
use Aternos\CurseForgeApi\Client\CurseForgeAPIClient;
$client = new CurseForgeAPIClient("api-key");

// set a user agent (recommended)
$lient->setUserAgent('aternos/php-curseforge-api-example');
```
**You will need an API key to use this client.** If you're a third party you can read more
about how to get one [here](https://support.curseforge.com/en/support/solutions/articles/9000208346).

## Paginated Lists
Most methods return a paginated list which contains a list of results on the current page and methods to
navigate to the next and previous page. The paginated list implements `Iterator`, `ArrayAccess` and `Countable` so
you can use it like an array. It also has a `getResults()` method which returns the underlying array of results.

## Games
The `getGames` method for example returns a paginated list of games.
```php
$games = $client->getGames();

foreach ($games as $game) {
    // like most other methods, this method returns a wrapper
    // you can use the getData() method to get the game data
    echo $game->getData()->getName() . PHP_EOL;
}

$games = $games->getNextPage();

foreach ($games as $game) {
    echo $game->getData()->getName() . PHP_EOL;
}
```
You can also call `getGame` with the ID of a game to get a specific game. 432 for example is the ID for Minecraft.
```php
$game = $client->getGame(432);
echo $game->getData()->getSlug() . PHP_EOL;
```

### Game Versions
A game contains various different version types, you can fetch them like this:
```php
$versionTypes = $client->getGameVersionTypes(432);
// or
$versionTypes = $game->getVersionTypes();
```
Since this endpoint isn't paginated it returns an array instead of a paginated list.

You can also fetch the versions of a specific version type:
```php
$versions = $client->getGameVersionTypeVersions(432, 68441);
// or
$versionType = $versionTypes[0];
$versions = $versionType->getVersions();
```
68441 for example is the Mod loader selection for Minecraft.

You can also get all versions for all version types of a game:
```php
$versions = $client->getGameVersions(432);
// or
$versions = $game->getVersions();
```

### Game Categories
A Game on CurseForge has category classes and categories. 
Category classes are like "Modpacks" or "Plugins" and categories are like "World Generation" or "Chat".
You can fetch them like this:
```php
$categoryClasses = $client->getGameCategories(432);
// or
$categoryClasses = $game->getCategories();
```
Note that this will return both, category classes AND categories.

If you want to get only the category classes you can set the `onlyClasses` parameter to `true`:
```php
$categoryClasses = $client->getGameCategories(432, null, true);
// or
$categoryClasses = $game->getCategories(null, true);
```

You can fetch categories in a class using the classId parameter:
```php
$categories = $client->getGameCategories(432, 6);
// or
$categories = $game->getCategories(6);
```

## Mods
TODO

## Fingerprints
TODO

## Minecraft
TODO